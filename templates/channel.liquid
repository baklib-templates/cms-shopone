{% assign pages = page.children_in_list | order_by: '-created_at' %}

{% # 面包屑导航 %}
<section class="py-2">
  <div class="max-w-6xl mx-auto px-4">
    <div class="mb-4">
      {% render 'breadcrumb', breadcrumb: page.breadcrumb  %}
    </div>
  </div>
</section>

<!-- 产品列表 -->
<section class="bg-white py-6 sm:py-12">
    <div class="mx-auto max-w-6xl px-4">
        <div class="mx-auto max-w-2xl md:flex flex-col items-center justify-center">
            <h2 class="font-semibold tracking-tight text-gray-900 md:text-3xl text-2xl flex items-center">
                {{ page.settings.title }}</h2>
            <p class="mt-2 ml-2 text-sm text-gray-500">{{ page.settings.description }}</p>
        </div>

        <!-- Cards Container -->
        {% paginate_tag pages, per: 24 %}
            <section class="my-4">
                <div class="grid grid-cols-2 gap-4 sm:grid-cols-3 mt-4">
                    {% for item in pages %}
                        <!-- Card product -->
                        <a href="{{ item.path }}" class="bg-white shadow-md rounded-lg overflow-hidden max-w-64 flex flex-col">
                            <img src="{{ item.settings.thumb_image_url }}" alt="Card Image 4" class="w-full h-48 object-cover">
                            <div class="p-4">
                                <h2 class="text-lg font-semibold text-gray-800">{{ item.link_text }}</h2>
                                <p class="text-gray-600 mt-2">{{ item.settings.description }}</p>
                            </div>
                        </a>
                    {% endfor %}
                </div>
            </section>
            <!-- Pagination -->
            <div class="w-full text-right block mt-12">
                {% render 'paginate', paginate: paginate %}
            </div>
        {% endpaginate_tag %}
    </div>
</section>

{% schema %}
  {
    "name": "栏目-文章列表",
    "description": "新闻/博客/资讯列表",
    "thumb_url": "images/theme/channel-news.webp",
    "sub_page_templates": ["page"],
    "settings": [
      {
        "id": "title",
        "type": "text",
        "label": "标题"
      },
      {
        "id": "description",
        "type": "textarea",
        "label": "摘要"
      }
    ]
  }
{% endschema%}
